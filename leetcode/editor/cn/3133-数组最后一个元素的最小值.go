//ç»™ä½ ä¸¤ä¸ªæ•´æ•° n å’Œ x ã€‚ä½ éœ€è¦æ„é€ ä¸€ä¸ªé•¿åº¦ä¸º n çš„ æ­£æ•´æ•° æ•°ç»„ nums ï¼Œå¯¹äºæ‰€æœ‰ 0 <= i < n - 1 ï¼Œæ»¡è¶³ nums[i + 1]
//å¤§äº nums[i] ï¼Œå¹¶ä¸”æ•°ç»„ nums ä¸­æ‰€æœ‰å…ƒç´ çš„æŒ‰ä½ AND è¿ç®—ç»“æœä¸º x ã€‚
//
// è¿”å› nums[n - 1] å¯èƒ½çš„ æœ€å° å€¼ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
// è¾“å…¥ï¼šn = 3, x = 4
//
//
// è¾“å‡ºï¼š6
//
// è§£é‡Šï¼š
//
// æ•°ç»„ nums å¯ä»¥æ˜¯ [4,5,6] ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸º 6 ã€‚
//
// ç¤ºä¾‹ 2ï¼š
//
//
// è¾“å…¥ï¼šn = 2, x = 7
//
//
// è¾“å‡ºï¼š15
//
// è§£é‡Šï¼š
//
// æ•°ç»„ nums å¯ä»¥æ˜¯ [7,15] ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸º 15 ã€‚
//
//
//
// æç¤ºï¼š
//
//
// 1 <= n, x <= 10â¸
//
//
// Related Topics ä½è¿ç®— ğŸ‘ 9 ğŸ‘ 0

package main

import "fmt"

func main() {
	n, x := 3, 4
	n, x = 2, 7
	end := minEnd(n, x)
	fmt.Println(end)
}

// leetcode submit region begin(Prohibit modification and deletion)
func minEnd(n int, x int) int64 {
	// ä¼˜åŒ–
	n--
	for ; x > 0; x &= x - 1 {
		i := x & -x // i ä¸ºè¦æ’å…¥çš„äºŒè¿›åˆ¶ 1
		//n = n&^(i-1)<<1 | i | n&(i-1) // åœ¨ n çš„äºŒè¿›åˆ¶ä¸­æ’å…¥ i
		n = n & ^(i-1) << 1 | i | n&(i-1) // åœ¨ n çš„äºŒè¿›åˆ¶ä¸­æ’å…¥ i
	}
	return int64(n)

	// ä¸ªäºº
	// ç”±é¢˜æ„ï¼šæ•°ç»„ nums ä¸­æ‰€æœ‰å…ƒç´ çš„æŒ‰ä½ AND è¿ç®—ç»“æœä¸º xã€‚åˆ™æ¯ä¸ªå…ƒç´ éƒ½â€œåŒ…å«â€x çš„æ‰€æœ‰äºŒè¿›åˆ¶ 1
	// é‚£ä¹ˆå°±è½¬åŒ–ä¸ºé¢˜æ„ï¼šåœ¨ç¬¬ n å¤§çš„éè´Ÿæ•´æ•°çš„äºŒè¿›åˆ¶ä½ä¸­ï¼Œæ’å…¥ x çš„æ‰€æœ‰äºŒè¿›åˆ¶ 1
	//ans := int64(n - 1)
	//for ; x > 0; x &= x - 1 {
	//	i := int64(x & -x)        // å–å‡ºæœ€åä¸€ä½
	//	v := ans & (i - 1)        // å–å‡º ans çš„æœ€å k ä½ï¼Œk ä¸º i çš„é•¿åº¦ -1
	//	ans = (ans&^v)<<1 | i | v // å°† i çš„äºŒè¿›åˆ¶æ’å…¥ ans
	//}
	//return ans
}

//leetcode submit region end(Prohibit modification and deletion)
