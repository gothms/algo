//ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ­£æ•´æ•° x ã€‚
//
// ä½  ä¸€å¼€å§‹ åœ¨æ•°ç»„çš„ä½ç½® 0 å¤„ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸‹è¿°è§„åˆ™è®¿é—®æ•°ç»„ä¸­çš„å…¶ä»–ä½ç½®ï¼š
//
//
// å¦‚æœä½ å½“å‰åœ¨ä½ç½® i ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç§»åŠ¨åˆ°æ»¡è¶³ i < j çš„ ä»»æ„ ä½ç½® j ã€‚
// å¯¹äºä½ è®¿é—®çš„ä½ç½® i ï¼Œä½ å¯ä»¥è·å¾—åˆ†æ•° nums[i] ã€‚
// å¦‚æœä½ ä»ä½ç½® i ç§»åŠ¨åˆ°ä½ç½® j ä¸” nums[i] å’Œ nums[j] çš„ å¥‡å¶æ€§ ä¸åŒï¼Œé‚£ä¹ˆä½ å°†å¤±å»åˆ†æ•° x ã€‚
//
//
// è¯·ä½ è¿”å›ä½ èƒ½å¾—åˆ°çš„ æœ€å¤§ å¾—åˆ†ä¹‹å’Œã€‚
//
// æ³¨æ„ ï¼Œä½ ä¸€å¼€å§‹çš„åˆ†æ•°ä¸º nums[0] ã€‚
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
// è¾“å…¥ï¼šnums = [2,3,6,1,9,2], x = 5
//è¾“å‡ºï¼š13
//è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰é¡ºåºè®¿é—®æ•°ç»„ä¸­çš„ä½ç½®ï¼š0 -> 2 -> 3 -> 4 ã€‚
//å¯¹åº”ä½ç½®çš„å€¼ä¸º 2 ï¼Œ6 ï¼Œ1 å’Œ 9 ã€‚å› ä¸º 6 å’Œ 1 çš„å¥‡å¶æ€§ä¸åŒï¼Œæ‰€ä»¥ä¸‹æ ‡ä» 2 -> 3 è®©ä½ å¤±å» x = 5 åˆ†ã€‚
//æ€»å¾—åˆ†ä¸ºï¼š2 + 6 + 1 + 9 - 5 = 13 ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
// è¾“å…¥ï¼šnums = [2,4,6,8], x = 3
//è¾“å‡ºï¼š20
//è§£é‡Šï¼šæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ å¥‡å¶æ€§éƒ½ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªå…ƒç´ éƒ½è®¿é—®ä¸€æ¬¡ï¼Œè€Œä¸”ä¸ä¼šå¤±å»ä»»ä½•åˆ†æ•°ã€‚
//æ€»å¾—åˆ†ä¸ºï¼š2 + 4 + 6 + 8 = 20 ã€‚
//
//
//
//
// æç¤ºï¼š
//
//
// 2 <= nums.length <= 10âµ
// 1 <= nums[i], x <= 10â¶
//
//
// Related Topics æ•°ç»„ åŠ¨æ€è§„åˆ’ ğŸ‘ 6 ğŸ‘ 0

package main

import (
	"fmt"
)

func main() {
	nums := []int{38, 92, 23, 30, 25, 96, 6, 71, 78, 77, 33, 23, 71, 48, 87, 77, 53, 28, 6, 20, 90, 83, 42, 21, 64, 95, 84, 29, 22, 21, 33, 36, 53, 51, 85, 25, 80, 56, 71, 69, 5, 21, 4, 84, 28, 16, 65, 7}
	x := 52 // 1545
	nums = []int{8, 50, 65, 85, 8, 73, 55, 50, 29, 95, 5, 68, 52, 79}
	x = 74 // 470
	nums = []int{18, 13, 60, 61, 57, 21, 10, 98, 51, 3, 13, 36, 72, 70, 68, 62, 52, 83, 63, 63, 53, 42, 59, 98, 95, 48, 22, 64, 94, 80, 14, 14}
	x = 2 // 1433
	score := maxScore(nums, x)
	fmt.Println(score)
}

// leetcode submit region begin(Prohibit modification and deletion)
func maxScore(nums []int, x int) int64 {
	maxVal := func(a, b int64) int64 {
		if b > a {
			return b
		}
		return a
	}
	var a, b int64
	if nums[0]&1 == 0 { // åˆå§‹åˆ†æ•°ä¸º nums[0]
		a, b = int64(nums[0]), int64(nums[0]-x)
	} else {
		b, a = int64(nums[0]), int64(nums[0]-x)
	}
	for i := 1; i < len(nums); i++ {
		if v := nums[i]; v&1 == 0 {
			a = maxVal(a+int64(v), b+int64(v-x))
		} else {
			b = maxVal(b+int64(v), a+int64(v-x))
		}
	}
	if a > b {
		return a
	}
	return b
}

//leetcode submit region end(Prohibit modification and deletion)
